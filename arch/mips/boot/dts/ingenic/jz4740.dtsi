#include <dt-bindings/clock/jz4740-cgu.h>

/ {
	#address-cells = <1>;
	#size-cells = <1>;
	compatible = "ingenic,jz4740";

	cpuintc: interrupt-controller {
		#address-cells = <0>;
		#interrupt-cells = <1>;
		interrupt-controller;
		compatible = "mti,cpu-interrupt-controller";
	};

	intc: interrupt-controller@10001000 {
		compatible = "ingenic,jz4740-intc";
		reg = <0x10001000 0x14>;

		interrupt-controller;
		#interrupt-cells = <1>;

		interrupt-parent = <&cpuintc>;
		interrupts = <2>;
	};

	ext: ext {
		compatible = "fixed-clock";
		#clock-cells = <0>;
	};

	rtc: rtc {
		compatible = "fixed-clock";
		#clock-cells = <0>;
		clock-frequency = <32768>;
	};

	cgu: jz4740-cgu@10000000 {
		compatible = "ingenic,jz4740-cgu";
		reg = <0x10000000 0x100>;

		clocks = <&ext>, <&rtc>;
		clock-names = "ext", "rtc";

		#clock-cells = <1>;
	};

	pinctrl: ingenic-pinctrl@10010000 {
		compatible = "ingenic,jz4740-pinctrl";
		reg = <0x10010000 0x384>;

		gpa: gpa {
			gpio-controller;
			#gpio-cells = <2>;

			interrupt-controller;
			#interrupt-cells = <2>;

			interrupt-parent = <&intc>;
			interrupts = <28>;

			ingenic,pull-ups = <0xffffffff>;
		};

		gpb: gpb {
			gpio-controller;
			#gpio-cells = <2>;

			interrupt-controller;
			#interrupt-cells = <2>;

			interrupt-parent = <&intc>;
			interrupts = <27>;

			ingenic,pull-ups = <0xffffffff>;
		};

		gpc: gpc {
			gpio-controller;
			#gpio-cells = <2>;

			interrupt-controller;
			#interrupt-cells = <2>;

			interrupt-parent = <&intc>;
			interrupts = <26>;

			ingenic,pull-ups = <0xffffffff>;
		};

		gpd: gpd {
			gpio-controller;
			#gpio-cells = <2>;

			interrupt-controller;
			#interrupt-cells = <2>;

			interrupt-parent = <&intc>;
			interrupts = <25>;

			ingenic,pull-ups = <0xdfffffff>;
		};

		pincfg_nobias: pincfg-nobias {
			bias-disable;
		};

		pincfg_pull_up: pincfg-pull-up {
			bias-pull-up;
		};

		pincfg_pull_down: pincfg-pull-down {
			bias-pull-down;
		};

		pinfunc-msc {
			pins_msc_4bit: pins-msc-4bit {
				ingenic,pins = <&gpd 8 0 &pincfg_nobias
						&gpa 9 0 &pincfg_nobias
						&gpa 10 0 &pincfg_nobias
						&gpa 11 0 &pincfg_nobias
						&gpa 12 0 &pincfg_nobias
						&gpa 13 0 &pincfg_nobias>;
			};
		};

		pinfunc-uart0 {
			pins_uart0_data: pins-uart0-data {
				ingenic,pins = <&gpd 26 1 &pincfg_pull_up  /* rxd */
						&gpd 25 1 &pincfg_nobias>; /* txd */
			};

			pins_uart0_dataplusflow: uart0-dataplusflow {
				ingenic,pins = <&gpd 26 1 &pincfg_pull_up  /* rxd */
						&gpd 25 1 &pincfg_nobias   /* txd */
						&gpd 31 0 &pincfg_nobias   /* rts */
						&gpd 30 0 &pincfg_nobias>; /* cts */
			};
		};

		pinfunc-uart1 {
			pins_uart1_data: uart1-data {
				ingenic,pins = <&gpd 30 2 &pincfg_pull_up   /* rxd */
						&gpd 31 2 &pincfg_nobias>;  /* txd */
			};
		};

		pinfunc-lcd {
			pins_lcd_8bit: pins-lcd-8bit {
				ingenic,pins = <&gpc  0 0 &pincfg_nobias	/* LCD_DATA0 */
						&gpc  1 0 &pincfg_nobias
						&gpc  2 0 &pincfg_nobias
						&gpc  3 0 &pincfg_nobias
						&gpc  4 0 &pincfg_nobias
						&gpc  5 0 &pincfg_nobias
						&gpc  6 0 &pincfg_nobias
						&gpc  7 0 &pincfg_nobias	/* LCD_DATA7 */
						&gpc 18 0 &pincfg_nobias	/* PCLK */
						&gpc 19 0 &pincfg_nobias	/* HSYNC */
						&gpc 20 0 &pincfg_nobias>;	/* VSYNC */
			};

			pins_lcd_16bit: pins-lcd-16bit {
				ingenic,pins = <&gpc  0 0 &pincfg_nobias	/* LCD_DATA0 */
						&gpc  1 0 &pincfg_nobias
						&gpc  2 0 &pincfg_nobias
						&gpc  3 0 &pincfg_nobias
						&gpc  4 0 &pincfg_nobias
						&gpc  5 0 &pincfg_nobias
						&gpc  6 0 &pincfg_nobias
						&gpc  7 0 &pincfg_nobias
						&gpc  8 0 &pincfg_nobias
						&gpc  9 0 &pincfg_nobias
						&gpc 10 0 &pincfg_nobias
						&gpc 11 0 &pincfg_nobias
						&gpc 12 0 &pincfg_nobias
						&gpc 13 0 &pincfg_nobias
						&gpc 14 0 &pincfg_nobias
						&gpc 15 0 &pincfg_nobias	/* LCD_DATA15 */
						&gpc 18 0 &pincfg_nobias	/* PCLK */
						&gpc 19 0 &pincfg_nobias	/* HSYNC */
						&gpc 20 0 &pincfg_nobias	/* VSYNC */
						&gpc 21 0 &pincfg_nobias>;	/* DE */
			};

			pins_lcd_18bit: pins-lcd-18bit {
				ingenic,pins = <&gpc  0 0 &pincfg_nobias	/* LCD_DATA0 */
						&gpc  1 0 &pincfg_nobias
						&gpc  2 0 &pincfg_nobias
						&gpc  3 0 &pincfg_nobias
						&gpc  4 0 &pincfg_nobias
						&gpc  5 0 &pincfg_nobias
						&gpc  6 0 &pincfg_nobias
						&gpc  7 0 &pincfg_nobias
						&gpc  8 0 &pincfg_nobias
						&gpc  9 0 &pincfg_nobias
						&gpc 10 0 &pincfg_nobias
						&gpc 11 0 &pincfg_nobias
						&gpc 12 0 &pincfg_nobias
						&gpc 13 0 &pincfg_nobias
						&gpc 14 0 &pincfg_nobias
						&gpc 15 0 &pincfg_nobias
						&gpc 16 0 &pincfg_nobias
						&gpc 17 0 &pincfg_nobias	/* LCD_DATA17 */
						&gpc 18 0 &pincfg_nobias	/* PCLK */
						&gpc 19 0 &pincfg_nobias	/* HSYNC */
						&gpc 20 0 &pincfg_nobias	/* VSYNC */
						&gpc 21 0 &pincfg_nobias>;	/* DE */
			};

			pins_lcd_special_tft: pins-lcd-special-tft {
				ingenic,pins = <&gpc  0 0 &pincfg_nobias	/* LCD_DATA0 */
						&gpc  1 0 &pincfg_nobias
						&gpc  2 0 &pincfg_nobias
						&gpc  3 0 &pincfg_nobias
						&gpc  4 0 &pincfg_nobias
						&gpc  5 0 &pincfg_nobias
						&gpc  6 0 &pincfg_nobias
						&gpc  7 0 &pincfg_nobias
						&gpc  8 0 &pincfg_nobias
						&gpc  9 0 &pincfg_nobias
						&gpc 10 0 &pincfg_nobias
						&gpc 11 0 &pincfg_nobias
						&gpc 12 0 &pincfg_nobias
						&gpc 13 0 &pincfg_nobias
						&gpc 14 0 &pincfg_nobias
						&gpc 15 0 &pincfg_nobias
						&gpc 16 0 &pincfg_nobias
						&gpc 17 0 &pincfg_nobias	/* LCD_DATA17 */
						&gpc 18 0 &pincfg_nobias	/* PCLK */
						&gpc 19 0 &pincfg_nobias	/* HSYNC */
						&gpc 20 0 &pincfg_nobias	/* VSYNC */
						&gpc 21 0 &pincfg_nobias	/* DE */
						&gpc 22 0 &pincfg_nobias	/* PS */
						&gpc 23 0 &pincfg_nobias	/* REV */
						&gpb 17 0 &pincfg_nobias	/* CLS */
						&gpb 18 0 &pincfg_nobias>;	/* SPL */
			};

			pinfunc_lcd_nopins: pins-lcd-no-pins {
				ingenic,pins = <>;
			};
		};

		pinfunc-nand {
			pins_nand: pins-nand {
				ingenic,pins = <&gpb 25 0 &pincfg_nobias
						&gpb 26 0 &pincfg_nobias
						&gpb 27 0 &pincfg_nobias
						&gpb 28 0 &pincfg_nobias>;
			};
		};

		pinfunc-pwm0 {
			pins_pwm0: pins-pwm0 {
				ingenic,pins = <&gpd 23 0 &pincfg_nobias>;
			};
		};

		pinfunc-pwm1 {
			pins_pwm1: pins-pwm1 {
				ingenic,pins = <&gpd 24 0 &pincfg_nobias>;
			};
		};

		pinfunc-pwm2 {
			pins_pwm2: pins-pwm2 {
				ingenic,pins = <&gpd 25 0 &pincfg_nobias>;
			};
		};

		pinfunc-pwm3 {
			pins_pwm3: pins-pwm3 {
				ingenic,pins = <&gpd 26 0 &pincfg_nobias>;
			};
		};

		pinfunc-pwm4 {
			pins_pwm4: pins-pwm4 {
				ingenic,pins = <&gpd 27 0 &pincfg_nobias>;
			};
		};

		pinfunc-pwm5 {
			pins_pwm5: pins-pwm5 {
				ingenic,pins = <&gpd 28 0 &pincfg_nobias>;
			};
		};

		pinfunc-pwm6 {
			pins_pwm6: pins-pwm6 {
				ingenic,pins = <&gpd 30 0 &pincfg_nobias>;
			};
		};

		pinfunc-pwm7 {
			pins_pwm7: pins-pwm7 {
				ingenic,pins = <&gpd 31 0 &pincfg_nobias>;
			};
		};
	};

	uart0: serial@10030000 {
		compatible = "ingenic,jz4740-uart";
		reg = <0x10030000 0x100>;

		interrupt-parent = <&intc>;
		interrupts = <9>;

		clocks = <&ext>, <&cgu JZ4740_CLK_UART0>;
		clock-names = "baud", "module";
	};

	uart1: serial@10031000 {
		compatible = "ingenic,jz4740-uart";
		reg = <0x10031000 0x100>;

		interrupt-parent = <&intc>;
		interrupts = <8>;

		clocks = <&ext>, <&cgu JZ4740_CLK_UART1>;
		clock-names = "baud", "module";
	};

	uhc: uhc@13030000 {
		compatible = "ingenic,jz4740-ohci", "generic-ohci";
		reg = <0x13030000 0x1000>;

		clocks = <&cgu JZ4740_CLK_UHC>;
		assigned-clocks = <&cgu JZ4740_CLK_UHC>;
		assigned-clock-rates = <48000000>;

		interrupt-parent = <&intc>;
		interrupts = <3>;

		status = "disabled";
	};
};
